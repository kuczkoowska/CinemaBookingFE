@if (movie$ | async; as movie) {

  <div class="relative w-full h-[50vh] min-h-[400px] my-8">

    <div class="absolute inset-0 bg-cover bg-center sm:blur-sm opacity-30"
         [style.backgroundImage]="'url(' + movie.posterUrl + ')'">
    </div>

    <div class="absolute inset-0 bg-gradient-to-t from-[var(--bg-app)] via-[var(--bg-app)]/80 to-transparent"></div>

    <div class="container mx-auto px-4 h-full flex items-end pb-8 relative z-10">
      <div class="flex flex-col md:flex-row gap-8 items-end md:items-end w-full">

        <img [src]="movie.posterUrl"
             [alt]="movie.title"
             class="w-48 md:w-64 rounded-lg shadow-2xl border-4 border-element hidden md:block">

        <div class="flex-1 mb-4">

          <button (click)="goBack()"
                  class="mb-4 text-sm font-bold text-primary hover:text-white flex items-center gap-1 transition-colors">
            ← WRÓĆ DO REPERTUARU
          </button>

          <h1 class="text-4xl md:text-6xl font-black text-main tracking-tight mb-2">
            {{ movie.title }}
          </h1>

          <div class="flex flex-wrap items-center gap-4 text-sm md:text-base text-[var(--text-muted)] font-medium">

            <span class="px-3 py-1 bg-element rounded-full border border-[var(--border-color)] text-main">
              {{ movie.genre | genreName }}
            </span>

            <span>{{ movie.durationMinutes }} min</span>
            <span>•</span>
            <span>{{ movie.director }}</span>
            <span>•</span>

            <span class="px-2 py-0.5 bg-primary/20 text-primary border border-primary/30 rounded text-xs font-bold">
              {{ movie.ageRating }}+
            </span>
          </div>
        </div>

      </div>
    </div>
  </div>

  <div class="container mx-auto px-4 py-12 grid grid-cols-1 lg:grid-cols-[2fr_1fr] gap-12">

    <app-movie-description [movie]="movie"/>
    <app-screening-dates [screenings]="screenings" (screeningSelect)="handleScreeningSelect($event)"/>
  </div>

} @else {
  <div class="container mx-auto py-20 text-center">
    <p class="text-main text-xl">Szukanie filmu...</p>
  </div>
}
